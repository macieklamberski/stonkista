{
  "version": "8",
  "dialect": "postgres",
  "id": "e691a575-f73c-4a96-ae38-a7e4bee1908f",
  "prevIds": ["e6bf7387-51d6-46e9-bc0f-400ad76f5f10"],
  "ddl": [
    {
      "values": ["yahoo", "coingecko", "cryptocompare"],
      "name": "source_types",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": ["stock", "etf", "crypto", "commodity"],
      "name": "ticker_types",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "currencies",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "prices",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "rates",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "tickers",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "type": "serial",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "currencies"
    },
    {
      "type": "varchar(10)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "code",
      "entityType": "columns",
      "schema": "public",
      "table": "currencies"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "currencies"
    },
    {
      "type": "boolean",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "true",
      "generated": null,
      "identity": null,
      "name": "active",
      "entityType": "columns",
      "schema": "public",
      "table": "currencies"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "currencies"
    },
    {
      "type": "serial",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "prices"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "ticker_id",
      "entityType": "columns",
      "schema": "public",
      "table": "prices"
    },
    {
      "type": "date",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "date",
      "entityType": "columns",
      "schema": "public",
      "table": "prices"
    },
    {
      "type": "numeric(32,16)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "price",
      "entityType": "columns",
      "schema": "public",
      "table": "prices"
    },
    {
      "type": "boolean",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "true",
      "generated": null,
      "identity": null,
      "name": "available",
      "entityType": "columns",
      "schema": "public",
      "table": "prices"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "fetched_at",
      "entityType": "columns",
      "schema": "public",
      "table": "prices"
    },
    {
      "type": "serial",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "rates"
    },
    {
      "type": "date",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "date",
      "entityType": "columns",
      "schema": "public",
      "table": "rates"
    },
    {
      "type": "varchar(10)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "from_currency",
      "entityType": "columns",
      "schema": "public",
      "table": "rates"
    },
    {
      "type": "varchar(10)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "to_currency",
      "entityType": "columns",
      "schema": "public",
      "table": "rates"
    },
    {
      "type": "numeric(32,16)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "rate",
      "entityType": "columns",
      "schema": "public",
      "table": "rates"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "fetched_at",
      "entityType": "columns",
      "schema": "public",
      "table": "rates"
    },
    {
      "type": "serial",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "symbol",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "type": "ticker_types",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "type",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "type": "varchar(10)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "currency",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "type": "source_types",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "source",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "type": "varchar(100)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "source_id",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "type": "boolean",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "true",
      "generated": null,
      "identity": null,
      "name": "active",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "tickers"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "ticker_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "date",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "prices_ticker_date",
      "entityType": "indexes",
      "schema": "public",
      "table": "prices"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "date",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "prices_date",
      "entityType": "indexes",
      "schema": "public",
      "table": "prices"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "date",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "from_currency",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "to_currency",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "rates_unique",
      "entityType": "indexes",
      "schema": "public",
      "table": "rates"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "date",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "rates_date",
      "entityType": "indexes",
      "schema": "public",
      "table": "rates"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "source",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "source_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "tickers_source_id",
      "entityType": "indexes",
      "schema": "public",
      "table": "tickers"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "symbol",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "tickers_symbol",
      "entityType": "indexes",
      "schema": "public",
      "table": "tickers"
    },
    {
      "nameExplicit": false,
      "columns": ["ticker_id"],
      "schemaTo": "public",
      "tableTo": "tickers",
      "columnsTo": ["id"],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "prices_ticker_id_tickers_id_fk",
      "entityType": "fks",
      "schema": "public",
      "table": "prices"
    },
    {
      "nameExplicit": false,
      "columns": ["from_currency"],
      "schemaTo": "public",
      "tableTo": "currencies",
      "columnsTo": ["code"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "rates_from_currency_currencies_code_fk",
      "entityType": "fks",
      "schema": "public",
      "table": "rates"
    },
    {
      "nameExplicit": false,
      "columns": ["to_currency"],
      "schemaTo": "public",
      "tableTo": "currencies",
      "columnsTo": ["code"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "rates_to_currency_currencies_code_fk",
      "entityType": "fks",
      "schema": "public",
      "table": "rates"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "currencies_pkey",
      "schema": "public",
      "table": "currencies",
      "entityType": "pks"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "prices_pkey",
      "schema": "public",
      "table": "prices",
      "entityType": "pks"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "rates_pkey",
      "schema": "public",
      "table": "rates",
      "entityType": "pks"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "tickers_pkey",
      "schema": "public",
      "table": "tickers",
      "entityType": "pks"
    },
    {
      "nameExplicit": false,
      "columns": ["code"],
      "nullsNotDistinct": false,
      "name": "currencies_code_unique",
      "schema": "public",
      "table": "currencies",
      "entityType": "uniques"
    }
  ],
  "renames": []
}
